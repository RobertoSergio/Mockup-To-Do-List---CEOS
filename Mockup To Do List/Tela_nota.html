<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do Lista</title>
    <link rel="stylesheet" href="css/Tela_nota.css">
</head>
<body>
    <div class="container">
        <div class="titulo_nota">
            <h1>Minhas notas<br>#TarefaX</h1>    
        </div>
        <div class="user_nota">
            <div class="line-wrap">
                <input type="text" class="line">
            </div>
            <div class="line-wrap">
                <input type="text" class="line">
            </div>
            <div class="line-wrap">
                <input type="text" class="line">
            </div>
            <div class="line-wrap">
                <input type="text" class="line">
            </div>
            <div class="line-wrap">
                <input type="text" class="line">
            </div>
            <div class="line-wrap">
                <input type="text" class="line">
            </div><div class="line-wrap">
                <input type="text" class="line">
            </div>
            <div class="line-wrap">
                <input type="text" class="line">
            </div>
            <div class="line-wrap">
                <input type="text" class="line">
            </div>
            <div class="line-wrap">
                <input type="text" class="line">
            </div>
            <div class="line-wrap">
                <input type="text" class="line">
            </div>
            <div class="line-wrap">
                <input type="text" class="line">
            </div>
            <button type="submit" class="btn">Salvar</button>
        </div>
    </div>
</body>

<script>
    const lines = document.querySelectorAll(".line");
    const button = document.getElementsByClassName("btn")[0];
    let save = true;

    const saveEdit = () => {
        if (save) {
            button.innerHTML = "Editar";
            save = false;
        } else {
            button.innerHTML = "Salvar";
            save = true;
        }

        button.classList.toggle("edit-btn");
        lineControls();
    }

    const lineControls = () => (
            lines.forEach(line => {
            if (!save) {
                line.setAttribute("disabled", true);
            } else {
                line.removeAttribute("disabled");
            }
        })
    )

    const setLinesMaxWidth = () => {
        lines.forEach(line => {
            line.setAttribute("maxlength", line.offsetWidth/11);
        });
    }
    setLinesMaxWidth()

    button.addEventListener("click", saveEdit);

    window.addEventListener("resize", setLinesMaxWidth);

</script>